<html>
	<head>
		<link rel="stylesheet" href="stylesheet.css">
		<link rel="stylesheet" href="gallerysheet.css">
		<link rel="stylesheet" href="imagesheet.css">
		<script src="gallerycode.js"></script>
	</head>
	<body>



		<nav id="navbar">
		  <ul>
			<li class="navlink"><a class="navanchor" href="#">Home</a></li>
			<li class="navlink"><a class="navanchor" href="#">Games<span>&#9658;</span></a>
			  <div class="dropdown-content">
				<a class = "dropdown-item" href="amalgama.html">(missing gallery) AmalgamA</a>
				<a class = "dropdown-item" href="game-prototypes.html">(empty) Game Prototypes</a>
			  </div>
			</li>
			<li class="navlink"><a class="navanchor" href="#">Projects<span>&#9658;</span></a>
			  <div class="dropdown-content">
				<a class = "dropdown-item" href="4dcrosssection.html">4D Cross-section</a>
				<a class = "dropdown-item" href="largerthanlifeca.html">(missing gallery)  Larger-than-Life Cellular Automaton</a>
				<a class = "dropdown-item" href="voronoitiling.html">(missing gallery) Voronoi Tiling</a>
				<a class = "dropdown-item" href="apolloniangasket.html">(missing gallery) Apollonian Flower</a>
				<a class = "dropdown-item" href="celticknot.html">(missing gallery) Celtic Knots</a>
				<a class = "dropdown-item" href="erosion.html">Fluvial Erosion</a>
				<a class = "dropdown-item" href="weaving.html">Digital Weaving</a>
				<a class = "dropdown-item" href="starsky.html">Starsky</a>
				<a class = "dropdown-item" href="chineselattice.html">(missing pictures) Chinese Lattice Windows</a>
				<a class = "dropdown-item" href="shader-experiments.html">(unfinished) Shader Experiments</a>
			  </div>
			</li>
			<li class="navlink"><a class="navanchor" href="#">Other<span>&#9658;</span></a>
			  <div class="dropdown-content">
				<a class = "dropdown-item" href="">(empty) Cultural Evolution</a>
				<a class = "dropdown-item" href="">(empty) MOOCs</a>
				<a class = "dropdown-item" href="">(empty) Reading Log</a>
				<a class = "dropdown-item" href="">(empty) Protein Quality (AA Composition)</a>
				<a class = "dropdown-item" href="">(empty) Cool people</a>
				<a class = "dropdown-item" href="">(empty) Circle of Fifths</a>
			  </div>
			</li>
		  <li class="navlink"><a class="navanchor" href="about.html">About</a></li>
		  </ul>
		</nav>


		
		<div id="body">
			<div id="sidebar">
				<a href="#intro" class="sidelink">Introduction</a>
				<a href="#rules" class="sidelink">How does it work?</a>
				<a href="#coloring" class="sidelink">Coloring</a>
				<a href="#beyond" class="sidelink">Beyond</a>
			</div>
		
		  <div id="main">
			<h1>4 Dimensional Cross-Sections</h1>
			<section id="intro">
			  <h2>Introduction</h2>
				<p>
					This was one of my favourite projects to work on. As usual, it had a long incubation time with me discovering various facets of these ideas (including <a href="https://en.wikipedia.org/wiki/Edwin_Abbott_Abbott" target="_blank">Edwin Abbott</a>'s <a href="https://books.google.pt/books?id=139bAAAAQAAJ&hl=pt-PT&source=gbs_navlinks_s" target="_blank">Flatland</a>, <a href="https://en.wikipedia.org/wiki/Rudy_Rucker" target="_blank">Rudy Rucker</a>, <a href="https://www.amazon.com/Shape-Space-Jeffrey-R-Weeks/dp/B0095H65AS" target="_blank">Shape of Space</a>, <a href="https://miegakure.com/" target="_blank">Miegakure</a>, and so on),
					but I finally decided to implement it in August 2017 while reading Max Tegmark's <a href="https://en.wikipedia.org/wiki/Our_Mathematical_Universe" target="_blank">Out Mathematical Universe</a>.
				</p>
				<p>
					This project was about answering the question "How to visualize 4 dimensional space?". First, I wrote a quick python script to project (a projection is what happens with a cube's shadow on a 2D wall, or 3D graphics on your 2D monitor) a tesseract, recreating the very famous animation - but this didn't work at all for the more complex <a href="https://en.wikipedia.org/wiki/4-polytope" target="_blank">polytopes</a>. Where an <a href="https://en.wikipedia.org/wiki/Icosahedron" target="_blank">icosahedron</a> (3D) has 20 faces and a <a href="https://en.wikipedia.org/wiki/Tesseract" target="_blank">tesseract</a> (simple 4D) has 24, a <a href="https://en.wikipedia.org/wiki/600-cell" target="_blank">600-cell</a> (complex 4D) has 1200. You can see the messy result below!
					So I switched to a cross-section approach, basically an intersection of a 4 dimensional object with 3D space. Up to this point, I had only used Game Maker: Studio, which is mainly a 2D tool, so I learned Unity in the process.
				</p>
				<div class="img-row">
					<div class="img-row-item"> <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Tesseract.gif" width="256" height="256" caption="with luminosity cycle"></img></div>
					<!--<div class="img-row-item"> <img src="4dcrosssection-img\complexcell.png" caption="without luminosity cycle"></img></div>-->
					<div class="img-row-item"> <img src="4dcrosssection-img\aligned_complexcell.png" caption="without luminosity cycle"></img></div>
					<div class="img-row-item"> <img src="4dcrosssection-img\600proj.gif" caption="without luminosity cycle"></img></div>
				</div>
				<p>
					<i>Note: </i> the tesseract animation on the left comes from wikipedia, since I've lost the python files. The other two are files I still had.
				</p>
			<hr></section>
			<section id="rules">
			  <h2>How does it work?</h2>
			  <p>
				The idea of a cross-section is extremely simple: you simply render the part of the objects that "lives" in our 3rd dimension. What does that mean? Well, it means whichever part of it has the z-coordinate equal to 0. One way to think about
				it is to use a 3D-to-2D analogy. Imagine a cube with a sheet of paper crossing through it - but you only see the piece of paper. By moving the cube around, what you see you change. The examples below are from <a href="https://curiosamathematica.tumblr.com/post/65983584336/cubes-fall-through-flatland-on-the-left-is-a" target="_blank">CuriosaMathematica</a>.
			  </p>
			  <div class="img-row">
				<div class="img-row-item"> <img src="https://64.media.tumblr.com/ea2af07f70332567a85133bf4e8020a1/tumblr_mvi2fnb1sE1suhdw4o3_500.gifv" width="256" height="256" caption="with luminosity cycle"></img></div>
				<div class="img-row-item"> <img src="https://64.media.tumblr.com/0841113d331f43a389f00d8619e8047f/tumblr_mvi2fnb1sE1suhdw4o1_500.gifv" caption="without luminosity cycle"></img></div>
				<div class="img-row-item"> <img src="https://64.media.tumblr.com/1d211141ea51a62bc4aa6ab385fbe4d7/tumblr_mvi2fnb1sE1suhdw4o2_500.gifv" caption="without luminosity cycle"></img></div>
			</div>
			<p>
				One extremely useful resource to me, at the time, was <a href="http://eusebeia.dyndns.org/4d/regular" target="_blank">Eusebeia</a>. I used only regular polychora, and I got the vertices from there. The algorithm goes as follows:
				<ul>
					<li>(Preprocessing) Reconstruct edges and faces from the vertice data;</li>
					<li>Compute every edge intersection with the volume z=0;</li>
					<li>Apply a <a href="https://en.wikipedia.org/wiki/Convex_hull" target="_blank">convex-hull</a> algorithm;</li>
					<li>Color the resulting polyhedron.</li>
				</ul>
				My contribution has definitely been the use of the convex-hull. Computing the cross-section "by hand" seemed rather messy (and difficult to think about in 4 dimensions!), but a convex-hull is a conceptually very simple
				solution. Plus, it actually ran smoothly in real-time, so I was able to play around even with the most complex objects!
			</p>
			<p>
				<div class="img-row">
					<div class="img-row-item"> <img src="4dcrosssection-img\120Cell_A0_TW.gif" width="256" height="256" caption="with luminosity cycle"></img></div>
					<div class="img-row-item"> <img src="4dcrosssection-img\120Cell_A58_TW.gif" caption="without luminosity cycle"></img></div>
					<div class="img-row-item"> <img src="4dcrosssection-img\600Cell_AYW_T0.gif" caption="without luminosity cycle"></img></div>
				</div>
				The first figure, of the left, shows a 600-cell centered at (x,y,z,w)=(0,0,0,0) but rotating in the z coordinate. Going back to the cube, imagine it rotating "forward" - it would never disappear, but its shape on the sheet of paper would change.
				The second and third figures show a a 600-cell and a 120-cell, respectively, crossing the volume z=0 from the outside. <!--They look different because the angle of the object is different. Imagine the cube intersecting with a whole face vs. with an edge, or a vertice.-->
			</p>
			<hr></section>
			<section id="coloring">
			  <h2>Coloring</h2>
				<p>
					The purpose of color, beyond looking prettier, is to convey some information about the underlying symmetry of the objects. I used two different coloring systems:
					<ul>
						<li>Color by face-size;</li>
						<li>Color by cell of origin.</li>
					</ul>
					<p>
						Coloring by face-size is easiest - where face is the 3D face of the convex-hull, not the original object. It requires less information and still preserves the symmetries, but it definitely loses some information about the original object.
						A hue is simply assign from 0 to whatever maximum area seems approptiate.
					</p>
					<p>
						Coloring by cell of origin is harder, since the convex-hull only has information about edges and vertices, not faces or cells. Fortunately, by storing additional information (like which faces and cells are incident to an edge and vertice),
						I was able to recover the information I needed about the color of the original cells and faces! I assigned, if I recall correctly, a hue depending on the origin cell's centroid.
					</p>
					<div class="img-row">
						<div class="img-row-item"> <img src="4dcrosssection-img\600rot_128col.gif" width="256" height="256" caption="with luminosity cycle"></img></div>
						<div class="img-row-item"> <img src="4dcrosssection-img\600trans_128col2.gif" caption="without luminosity cycle"></img></div>
						<div class="img-row-item"> <img src="4dcrosssection-img\120trans.gif" caption="without luminosity cycle"></img></div>
					</div>
				The first two figures on the left are of a 600-cell rotating and crossing into the third dimension, respectively, while the last, on the right, is a 120-cell crossing into the third dimension.
				</p>
			<hr></section>
			<section id="beyond">
			  <h2>Beyond</h2>
				<p>
					There's a lot more you can do this with idea. If you're feeling trippy, you can always place yourself <i>inside</i> the object!
					<div class="img-row">
						<div class="img-row-item"> <img src="4dcrosssection-img\inside1.gif" width="256" height="256" caption="with luminosity cycle"></img></div>
						<div class="img-row-item"> <img src="4dcrosssection-img\inside2.gif" caption="without luminosity cycle"></img></div>
					</div>
					The method can obviously be generalized to either dimensions, different geometries (hyperbolic or spherical) and also tilings. One of the most mind-blowing things I found out was <a href="https://en.wikipedia.org/wiki/Nicolaas_Govert_de_Bruijn" target="_blank">de Bruijn</a>'s
				that you can get a <a href="https://en.wikipedia.org/wiki/Penrose_tiling" target="_blank"Penrose Tiling</a> by <a href="https://www.mathpages.com/home/kmath621/kmath621.htm" target="_blank">a kind of projection from a 5-dimensional tiling</a>.
				</p>
			<hr></section>
			<!--
			<section id="gallery">
			  <h2>Gallery</h2>
			  
			<hr></section>
			-->
		  </div>
		</div>
	</body>
</html>